{
    "version": 3,
    "sources": [
        "main.js",
        "countries/russia.js"
    ],
    "names": [
        "variations",
        "length",
        "rules",
        "arr",
        "push",
        "v",
        "_length",
        "some",
        "checkINN",
        "country",
        "checkLength",
        "value",
        "undefined",
        "arguments",
        "COUNTRIES",
        "checkVat",
        "globalControlNumber",
        "checkSum",
        "num",
        "controlSequence",
        "controlNumPosition",
        "controlNum",
        "valArr",
        "map",
        "numberArr",
        "reduce",
        "p",
        "slice",
        "sum",
        "k",
        "check10DigitVAT",
        "vat",
        "short",
        "check12DigitVAT",
        "sequences",
        "ctrlNumPos",
        "isFirstNumValid",
        "isSecondNumValid",
        "long",
        "options"
    ],
    "mappings": "qCAKIA,SAAAA,GAAmBC,EAAAC,GAAA,GAAAF,GAAcE,OAAMF,KAAAA,EAANA,YAAjCG,IAGH,8BADUA,MAAAA,GAASC,KAAAF,EAAAF,WAAAK,GAAAC,WACnBH,EAAAI,KAAA,SAAAF,kBALG,GAAML,SAUFQ,SAAMN,SAAkBO,GACpB,GAACC,GAAYC,UAAMV,QAAvB,GAA8CW,SAAPC,UAAO,GAAP,SAAAA,UAAA,GAElCX,EAAAY,EAAiBH,GAAQT,6CAKjCY,EAAAL,GAAAM,SAAAJ,IAAA,qECjBGK,GAAAA,OAAAA,WAsB4C,QAA5CC,GAAAC,EAAAC,EAAAC,GACMC,GAAAA,GAAaC,EAAAA,WAAOF,MAAAA,IAAPG,IAAnB,SAAAlB,GACMmB,OAAYF,IACQD,EAAcF,EAAAA,GAAoBM,EAAQC,EAADC,MAAA,EAAAP,GAAAQ,EAAUF,EAAVH,IAAA,SAAAlB,EAAAwB,GAAnE,MAAAxB,GAAAc,EAAAU,0BAEQD,MAAM1B,GAAMc,GAGxB,OAASc,GAAAA,EAAiBC,sBAAKV,EAG3B,QAAOJ,GAAce,2BAGzB,OAASC,GAATF,EAAAC,EAA+BE,UAAA,GAAAF,EAAA1B,QAAA0B,EAAAG,WAAA,IAG3B,QAAMC,GAAkBnB,2BAGjBmB,EAAmBC,EAAAA,EAAAA,EAA1BH,UAAA,GAAAI,EAAAhC,QAAAgC,EAAAH,WAAA,IACHE,EAAApB,EAAAc,EAAAO,EAAAJ,UAAA,GAAAI,EAAAhC,QAAAgC,EAAAH,WAAA,GAEM,OAAAC,IAAAC,EA3CHrC,GAAAA,IACIgC,oBAAO,GACH1B,OAAAA,qBACA4B,YAGAC,OANI7B,QAAA,GAQF4B,YAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IACF5B,aADE,IAMF6B,MANE7B,QAAA,GARE4B,YAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAAA,EAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,IAHhBC,aAAA,GAAA,KAiDQ,QACHjC,MAAAA,EAJLa,SAAA,SAAAgB,EAAAQ,GAhDJ,MAAAT,GAAAC,IAAAE,EAAAF",
    "file": "inn.min.js",
    "sourcesContent": [
        "const COUNTRIES = {};\n\nfunction checkLength (length, rules) {\n    const variations = Object.keys(rules.variations);\n    const arr = [];\n    variations.forEach(v => arr.push(rules.variations[v]._length));\n\n    return arr.some(v => v === length);\n}\n\n// eslint-disable-next-line no-unused-vars\nvar toExport = {\n    checkINN: (value, country = 'russia') => {\n        const rules = COUNTRIES[country].rules;\n        if (!checkLength(value.length, rules)) return 'invalid length';\n\n        if (!rules.regex.test(value)) return 'don\\'t match regex';\n\n        if (!COUNTRIES[country].checkVat(value)) return 'checksum didn\\'t match';\n\n        return true;\n    }\n};",
        "// eslint-disable-next-line no-undef\nCOUNTRIES.russia = (() => {\n\n    const rules = {\n        globalControlNumber: 11,\n        regex: [/^(\\d{10}|\\d{12})$/],\n        variations: {\n            short: {\n                _length: 10,\n                sequences: [\n                    [2, 4, 10, 3, 5, 9, 4, 6, 8]\n                ],\n                ctrlNumPos: [-1]\n            },\n            long: {\n                _length: 12,\n                sequences: [\n                    [7, 2, 4, 10, 3, 5, 9, 4, 6, 8],\n                    [3, 7, 2, 4, 10, 3, 5, 9, 4, 6, 8]\n                ],\n                ctrlNumPos: [-2, -1]\n            }\n        }\n    };\n\n    function checkSum (num, controlSequence, controlNumPosition) {\n        const valArr = num.toString().split('').map(v => +v);\n        const controlNum = valArr[controlNumPosition];\n        const numberArr = valArr.slice(0, controlNumPosition);\n        const sum = numberArr.map((v, k) => v * controlSequence[k]).reduce((p, c) => p + c);\n\n        return (sum % rules.globalControlNumber) === controlNum;\n    }\n\n    function check10DigitVAT (vat) {\n        // vat = 7830002293;\n        const short = rules.variations.short;\n        return checkSum(vat, short.sequences[0], short._length + short.ctrlNumPos[0]);\n    }\n\n    function check12DigitVAT (vat) {\n        //val = 500100732259;\n        const long = rules.variations.long;\n        const isFirstNumValid = checkSum(vat, long.sequences[0], long._length + long.ctrlNumPos[0]);\n        const isSecondNumValid = checkSum(vat, long.sequences[1], long._length + long.ctrlNumPos[1]);\n\n        return isFirstNumValid && isSecondNumValid;\n    }\n\n    return {\n        rules: rules,\n        checkVat (vat, options) {\n            return check10DigitVAT(vat) || check12DigitVAT(vat);\n        }\n    };\n})();"
    ],
    "sourceRoot": "/source/"
}