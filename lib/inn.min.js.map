{
    "version": 3,
    "sources": [
        "main.js",
        "countries/russia.js"
    ],
    "names": [
        "toExport",
        "checkINN",
        "lengthList",
        "country",
        "includes",
        "value",
        "undefined",
        "arguments",
        "regexp",
        "COUNTRIES",
        "getRegexp",
        "length",
        "checkSum",
        "inn",
        "val",
        "rules",
        "ctrlNum",
        "split",
        "reduce",
        "total",
        "previousValue",
        "currentItem",
        "index",
        "charAt",
        "i",
        "multipliers",
        "m_1",
        "expect",
        "_check12DigitINN",
        "vat",
        "total1",
        "j",
        "m_2",
        "k",
        "total2",
        "m_3",
        "slice",
        "expect2",
        "_check10DigitINN",
        "this"
    ],
    "mappings": "qCAGIA,IAAAA,SAEIC,SAAMC,SAAuBC,GACzB,GAACD,GAAWE,UAASC,QAAzB,GAA+CC,SAAPC,UAAO,GAAP,SAAAA,UAAA,GAElCC,EAASC,EAAAN,GAAmBO,gBAC9B,KAACF,EAAYH,SAAQA,EAAOM,QAAA,MAAA,gBAE5B,IAACF,GAAUN,EAASS,GAASP,+BAGpCI,EAAAN,GAAAS,SAAAP,IAAA,0ECDG,QAAMQ,GAANC,EAAAC,GACMC,GAAAA,GAAU,EAEZC,EAAUC,EAAAA,WACVF,GAAA,EAAA,EAAA,EAAA,GAAA,EAAA,EAAA,EAAA,EAAA,EAAA,EAOIG,IARRN,EAAAI,MAAA,IAAAC,OAAA,SAAAE,EAAAC,EAAAC,GAKQX,OAAJS,IAAmBC,GAAAL,EAAAM,EAAA,KAGDC,KAAdJ,EAAAA,OAAcI,sBAGVJ,IAARN,EAAAU,OAAAC,GAAAT,EAAAU,YAAAC,IAAAF,EAGCL,IAAA,SAEDA,GAAA,wBAKG,OAAPA,KAAAQ,EAGJ,OAASC,kBAIDC,GAAIlB,GAAJ,KAGImB,IAAeP,KAAfO,EAAAA,OAAeP,sBAGnBO,IAAkBD,EAAlBN,OAAAQ,GAAAhB,EAAAU,YAAAO,IAAAD,EAGID,IAAkB,SAGjBA,GAAmBG,yBAIxBC,IAAkBL,EAAlBN,OAAAU,GAAAlB,EAAAU,YAAAU,IAAAF,EAGCC,IAAA,SAEDA,GAAA,GAKH,IAAAP,GAAAG,KAAAD,EAAAO,MAAA,GAAA,yBAEM,OAAPT,IAAAU,EAIG,OAAA,EAvEHX,GAAAA,IAAY,wBA0EX,QACDhB,eAJG,WAKC,OAAA,GAAA,KAEJE,UAPG,WAQC,MAAO0B,IARf1B,SAAA,SAAAE,GA5EJ,MAAAwB,GAAAxB,EAAAyB,KAAAxB,QAAAa,EAAAd,EAAAyB,KAAAxB",
    "file": "inn.min.js",
    "sourcesContent": [
        "const COUNTRIES = {};\n\n// eslint-disable-next-line no-unused-vars\nvar toExport = {\n    checkINN: (value, country = 'russia') => {\n        const lengthList = COUNTRIES[country].getValidLength();\n        if (!lengthList.includes(value.length)) return 'invalid length';\n\n        const regexp = COUNTRIES[country].getRegexp();\n        if (!regexp.test(value)) return 'don\\'t match regexp';\n\n        if (!COUNTRIES[country].checkSum(value)) return 'checksum didn\\'t match';\n\n        return true;\n    }\n};",
        "COUNTRIES.russia = (() => {\n\n    const regex = [/^(RU)(\\d{10}|\\d{12})$/];\n\n    const multipliers = {\n        m_1: [2, 4, 10, 3, 5, 9, 4, 6, 8, 0],\n        m_2: [7, 2, 4, 10, 3, 5, 9, 4, 6, 8, 0],\n        m_3: [3, 7, 2, 4, 10, 3, 5, 9, 4, 6, 8, 0]\n    };\n\n    function _check10DigitINN (val, rules) {\n        var total = 0;\n\n        const inn = val.toString();\n        const ctrlNum = [7, 2, 4, 10, 3, 5, 9, 4, 6, 8];\n        // TODO (S.Panfilov)debug\n        inn.split('').reduce((previousValue, currentItem, index) => {\n            // console.log(previousValue + ' + ' + (+currentItem * ctrlNum[index - 1]));\n            return +previousValue + (+currentItem * +ctrlNum[index - 1]);\n        });\n\n        if (inn.length === 10) {\n\n            for (var i = 0; i < 10; i++) {\n                total += +inn.charAt(i) * rules.multipliers.m_1[i];\n            }\n\n            total = total % 11;\n            if (total > 9) {\n                total = total % 10;\n            }\n\n            // Compare it with the last character of the VAT number. If it is the same, then it's valid\n            var expect = +inn.slice(9, 10);\n            return total === expect;\n        }\n\n        return false;\n    }\n\n    function _check12DigitINN (vat, rules) {\n        var total1 = 0;\n        var total2 = 0;\n\n        if (vat.length === 12) {\n\n            for (var j = 0; j < 11; j++) {\n                total1 += +vat.charAt(j) * rules.multipliers.m_2[j];\n            }\n\n            total1 = total1 % 11;\n\n            if (total1 > 9) {\n                total1 = total1 % 10;\n            }\n\n            for (var k = 0; k < 11; k++) {\n                total2 += +vat.charAt(k) * rules.multipliers.m_3[k];\n            }\n\n            total2 = total2 % 11;\n            if (total2 > 9) {\n                total2 = total2 % 10;\n            }\n\n            // Compare the first check with the 11th character and the second check with the 12th and last\n            // character of the VAT number. If they're both the same, then it's valid\n            var expect = (total1 === +vat.slice(10, 11));\n            var expect2 = (total2 === +vat.slice(11, 12));\n            return (expect) && (expect2);\n        }\n\n        return false;\n    }\n\n\n    return {\n        getValidLength () {\n            return [10, 12];\n        },\n        getRegexp () {\n            return regex;\n        },\n        checkSum (val) {\n            return _check10DigitINN(val, this.rules) || _check12DigitINN(val, this.rules);\n        }\n    };\n})();"
    ],
    "sourceRoot": "/source/"
}